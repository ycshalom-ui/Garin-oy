# 👤 מדריך מנהל - User Administrator

## 🎯 פרטי כניסה

```
URL: https://your-site.com/admin
Username: Administrator
Email: garorye1@garorye1.com
Password: garorye10
```

---

# 🔐 הרשאות Admin

כמנהל, יש לך גישה מלאה למערכת:

- ✅ יצירת ועריכת פוסטים (פרשת השבוע + עדכונים)
- ✅ יצירת ועריכת אירועים
- ✅ העלאת תמונות וסרטונים לגלריה
- ✅ ניהול משתמשים (יצירה, עריכה, מחיקה)
- ✅ צפייה בפניות צור קשר

---

# 👥 יצירת משתמש חדש

## שלב 1️⃣: יצירה ב-Supabase

### 1. כנס ל-Supabase:
```
https://supabase.com
→ התחבר
→ בחר את הפרויקט
```

### 2. Authentication → Users:
```
→ Add user
→ Email: [email של המשתמש החדש]
→ Password: [סיסמה חזקה]
→ Auto Confirm User: ✅ YES
→ Create user
```

### 3. העתק את ה-UUID:
```
→ לחץ על המשתמש שנוצר
→ העתק את ה-UUID
```

---

## שלב 2️⃣: הגדרת תפקיד

### 1. SQL Editor:
```
Supabase → SQL Editor → New query
```

### 2. הרץ:
```sql
-- החלף USER_UUID עם ה-UUID שהעתקת
-- החלף ROLE עם: 'admin', 'editor', או 'user'

SELECT update_user_role(
  'USER_UUID_HERE',
  'editor'
);
```

### דוגמה:
```sql
SELECT update_user_role(
  '123e4567-e89b-12d3-a456-426614174000',
  'editor'
);
```

### 3. תוצאה:
```json
{
  "success": true,
  "message": "User role updated successfully"
}
```

---

# 📊 סוגי משתמשים

## 1. Admin (מנהל):
```
✅ הכל
✅ יצירת משתמשים
✅ ניהול תפקידים
```

## 2. Editor (עורך):
```
✅ פוסטים (יצירה + עריכה)
✅ אירועים (יצירה + עריכה)
✅ גלריה (העלאה)
❌ ניהול משתמשים
```

## 3. User (משתמש):
```
✅ צפייה בלבד
❌ עריכה
```

---

# 📝 יצירת פוסט חדש

## 1. כניסה ל-Admin Panel:
```
/admin → התחבר
```

## 2. טאב "פוסטים":
```
כותרת: [כותרת הפוסט]
תוכן: [התוכן המלא]
תקציר: [תקציר קצר]
קטגוריה: 
  📖 פרשת השבוע
  📰 עדכונים
תמונה: [בחר תמונה - אופציונלי]
→ פרסם פוסט
```

---

# 📅 יצירת אירוע

## טאב "אירועים":
```
שם האירוע: [שם]
תיאור: [תיאור]
תאריך: [בחר תאריך]
שעה: [בחר שעה]
מיקום: [מיקום]
→ פרסם אירוע
```

---

# 🖼️ העלאת תמונה/סרטון לגלריה

## טאב "גלריה":
```
כותרת: [כותרת - אופציונלי]
אלבום: [שם האלבום - חובה!]
  דוגמאות:
  - מסיבת פורים 2026
  - טיול שנתי
  - ט"ו בשבט
סוג: 
  📸 תמונה
  🎥 סרטון
קובץ: [בחר קובץ]
→ העלה לגלריה
```

---

# 👁️ צפייה בפניות

## Table Editor:
```
Supabase → Table Editor → leads
→ תראה את כל הפניות
```

## עמודות:
```
- first_name: שם פרטי
- last_name: שם משפחה
- phone: טלפון
- email: אימייל
- message: ההודעה
- created_at: תאריך
```

---

# 🔍 ניהול משתמשים קיימים

## צפייה בכל המשתמשים:
```sql
SELECT * FROM get_all_users();
```

## שינוי תפקיד:
```sql
SELECT update_user_role(
  'user_uuid',
  'new_role'
);
```

## מחיקת משתמש:
```
Supabase → Authentication → Users
→ בחר משתמש
→ Delete user
```

---

# ⚙️ הגדרות מתקדמות

## שינוי סיסמת Admin:

### 1. Supabase:
```
Authentication → Users
→ garorye1@garorye1.com
→ Reset Password
```

### 2. אימייל:
```
→ תקבל קישור לאיפוס
→ בחר סיסמה חדשה
```

---

# 🆘 Troubleshooting

## לא יכול להתחבר:

### 1. בדוק:
```
Email: garorye1@garorye1.com
Password: garorye10
```

### 2. Reset Password:
```
Admin Panel → Forgot Password
```

## משתמש לא יכול לערוך:

### 1. בדוק תפקיד:
```sql
SELECT role FROM profiles
WHERE email = 'user@email.com';
```

### 2. עדכן תפקיד:
```sql
SELECT update_user_role(
  'user_uuid',
  'editor'
);
```

---

# 📋 Checklist יומי

- [ ] בדיקת פניות חדשות (leads)
- [ ] מענה לפניות דחופות
- [ ] עדכון תוכן (פרשה + עדכונים)
- [ ] בדיקת האתר שעובד
- [ ] העלאת תמונות מאירועים

---

# 📋 Checklist שבועי

- [ ] גיבוי Supabase
- [ ] בדיקת משתמשים פעילים
- [ ] עדכון גלריה
- [ ] בדיקת Cloudflare Deployments
- [ ] סקירת סטטיסטיקות

---

# 💡 טיפים

## 1. גלריה:
```
- שם אלבומים ברור
- קטגוריזציה לפי אירועים
- תמונות איכותיות בלבד
```

## 2. פוסטים:
```
- כותרות ברורות
- תקציר מושך
- תמונת נושא
- קטגוריה נכונה
```

## 3. אירועים:
```
- תיאור מפורט
- תאריך ושעה מדויקים
- מיקום ברור
```

---

# 🎉 זהו!

**עכשיו אתה מנהל מלא של האתר!**

**שאלות? בדוק את התיעוד המלא.**

© 2026 גרעין תורני אור יהודה
